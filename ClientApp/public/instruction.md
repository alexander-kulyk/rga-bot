Що таке Submodules?
Часто буває, що під час роботи над одним проектом потрібно використовувати функціонал з іншого. Можливо, це бібліотека, розроблена третьою стороною або яку Ви розробляєте окремо та використовуєте в кількох батьківських проектах. У цих сценаріях виникає загальна проблема: Ви хочете мати можливість розглядати два проекти як окремі, але при цьому мати можливість використовувати один з іншого.

Git вирішує цю проблему за допомогою submodules. Ці підмодулі дозволяють зберігати репозиторій Git як підкаталог іншого репозиторію Git. Це дозволяє Вам клонувати інше сховище в проект і зберігати ваші коміти окремо.

Створення нового проєкту

git submodule add -b sb-pie/dev https://ds-vsts.visualstudio.com/React_Reusable/_git/React_Reusable src/React_Reusable
Ця команда створить запис про модуль в .git/config і додасть його в проєкт. Виконується один раз.

Ініціалізація Submodules
При клонуванні репозиторію DF собі локалько необхідно ініціалізувати підмодуль. Робиться це дуже просто, двома командами в консолі з директорії ClientApp:

git submodule init
git submodule update
Також залишу команду для можливості примусової реініціалізації

git submodule deinit -f path/to/submodule
git submodule update --init path/to/submodule
image.png

Інструкція щодо переключення target гілки (Обов'язково до виконання під час випуску релізу)
Всі команди для терміналу слід вводити з директорії ClientApp.

Для того щоб перевірити поточну гілку, скористайтесь командою:
git submodule status

image.png

Для того щоб вивести на екран список доступних гілок, скористайтесь командою:
git submodule foreach --recursive git branch

Image
Для того щоб налаштувати target гілку, відкрийте файл .gitmodules
Image
Вкажіть назву бажаної гілки:
Image
Для синхронізації з цією конфігурацією, скористайтесь командою:
git submodule sync

Image
Для оновлення сабмодулю, скористайтесь командою:
git submodule update --recursive --remote

Перевірка результату, скористайтесь командою:
git submodule status

Image
Іноді під час синхронізації не одразу бачимо гілку сабмодуля, у такому разі для пришвидшення процесу можна виконати коміт у новостворену гілку (Найкраще підійде оновлення файлу Readme.md), потім повторити команду:
git submodule status

Репозиторій
